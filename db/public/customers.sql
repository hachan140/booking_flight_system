create table customers
(
    id           bigint generated by default as identity
        primary key,
    created_at   timestamp with time zone not null,
    updated_at   timestamp with time zone not null,
    email        varchar                  not null,
    phone_number varchar                  not null,
    full_name    varchar                  not null,
    dob          timestamp with time zone,
    cid          varchar                  not null,
    member_id    bigint
        constraint customers_members_has_customer
            references members
            on delete set null
);

alter table customers
    owner to hachan;

create unique index customers_email_key
    on customers (email);

create unique index customers_phone_number_key
    on customers (phone_number);

create unique index customers_cid_key
    on customers (cid);

create unique index customers_member_id_key
    on customers (member_id);

