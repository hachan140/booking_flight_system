create table bookings
(
    id          bigint generated by default as identity
        primary key,
    created_at  timestamp with time zone not null,
    updated_at  timestamp with time zone not null,
    code        varchar                  not null,
    status      varchar                  not null,
    seat_type   varchar                  not null,
    customer_id bigint
        constraint bookings_customers_has_booking
            references customers
            on delete set null,
    flight_id   bigint
        constraint bookings_flights_has_booking
            references flights
            on delete set null
);

alter table bookings
    owner to hachan;

create unique index bookings_code_key
    on bookings (code);

